"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[920],{6920:function(e,n,t){t.r(n),t.d(n,{default:function(){return ue}});var r=t(586),s=t(2791),i=t(8687);var a=t.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg",c=t(184),o=function(){return(0,c.jsxs)("div",{className:"sidebar-logo-container",children:[(0,c.jsx)("img",{src:a,className:"sidebar-logo",alt:"logo"}),(0,c.jsx)("h1",{className:"sidebar-title",children:"React Admin"})]})},l=t(3433),d=t(5671),u=t(3144),h=t(9340),p=t(4062),f=t(7495),x=t(3504),j=t(1413),Z=t(6871);function m(e){return function(n){var t=(0,Z.TH)(),r=(0,Z.s0)(),s=(0,Z.UO)();return(0,c.jsx)(e,(0,j.Z)((0,j.Z)({},n),{},{navigate:r,params:s,location:t}))}}var v=t(3813);function g(e,n,t,r,s){return{key:n,icon:t,children:r,label:e,type:s}}var k=function(e){(0,h.Z)(t,e);var n=(0,p.Z)(t);function t(e){var r;return(0,d.Z)(this,t),(r=n.call(this,e)).rootSubmenuKeys=[],r.state={menuTreeNode:[],selectedKeys:[],openKeys:[]},r}return(0,u.Z)(t,[{key:"getMenuNodes",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.props.location.pathname;return e.map((function(e){var s=e.path.startsWith("/")?e.path:"".concat(t,"/").concat(e.path);if(e.children&&!e.hiddenChild){r.includes(s)&&n.setState((function(e){return{openKeys:[].concat((0,l.Z)(e.openKeys),[s])}}));var i=n.getMenuNodes(e.children,s);return g(e.title,s,e.icon,i)}return g((0,c.jsx)(x.OL,{to:e.path,children:e.title}),s,e.icon)}))}},{key:"onOpenChange",value:function(e){var n=this.state.openKeys,t=e.find((function(e){return-1===n.indexOf(e)}));-1===this.rootSubmenuKeys.indexOf(t)?this.setState({openKeys:e}):this.setState({openKeys:t?[t]:[]})}},{key:"componentDidMount",value:function(){var e=this.getMenuNodes(v.ZP);this.rootSubmenuKeys=v.ZP.filter((function(e){return e.children})).map((function(e){return e.path})),this.setState({menuTreeNode:e})}},{key:"render",value:function(){var e=this,n=this.props.location.pathname,t=this.state.openKeys;return(0,c.jsx)("div",{children:(0,c.jsx)(f.Z,{selectedKeys:[n],openKeys:t,onOpenChange:function(n){return e.onOpenChange(n)},mode:"inline",theme:"dark",items:this.state.menuTreeNode})})}}]),t}(s.Component),y=m(k),b=r.Z.Sider,C=function(e){var n=(0,i.v9)((function(e){return e.app.sidebarLogo})),t=(0,i.v9)((function(e){return e.app.sidebarCollapsed}));return(0,c.jsxs)(b,{collapsible:!0,collapsed:t,trigger:null,style:{zIndex:"10"},children:[n?(0,c.jsx)(o,{}):null,(0,c.jsx)(y,{})]})},w=t(3801),N=t(2385),S=t(7734),K=t(1753),T=t(4202),O=t(8164),H=m((function(e){var n=e.location.pathname,t=function(e,n){var t=[];try{for(var r=function e(r){if(!1!==r.breadcrumb&&t.push(r),r.path===n)throw new Error("GOT IT!");if(r.children&&r.children.length>0){for(var s=0;s<r.children.length;s++)e(r.children[s]);t.pop()}else t.pop()},s=0;s<e.length;s++)r(e[s])}catch(i){return t}}(v.ZP,n),r=t&&t[0];return r&&"\u9996\u9875"!==r.title.trim()&&(t=[{title:"\u9996\u9875",path:"/"}].concat(t)),(0,c.jsx)("div",{className:"Breadcrumb-container",children:(0,c.jsx)(O.Z,{children:t&&t.map((function(e){return"\u9996\u9875"===e.title?(0,c.jsx)(O.Z.Item,{children:(0,c.jsx)(x.rU,{to:e.path,children:e.title})},e.path):(0,c.jsx)(O.Z.Item,{children:e.title},e.path)}))})})})),I=t(9439),P=t(2124),E=t(419),L=t(5945),z=t(5962),V=t(6256),F=function(){if(!P.Z.isEnabled)return E.ZP.warning("you browser can not work"),!1;P.Z.toggle()},M=function(){var e=(0,s.useState)(!1),n=(0,I.Z)(e,2),t=n[0],r=n[1],i=function(){r(P.Z.isFullscreen)};(0,s.useEffect)((function(){return P.Z.isEnabled&&P.Z.on("change",i),function(){P.Z.isEnabled&&P.Z.off("change",i)}}),[]);var a=t?"\u53d6\u6d88\u5168\u5c4f":"\u5168\u5c4f";return(0,c.jsx)("div",{className:"fullScreen-container",children:(0,c.jsx)(L.Z,{placement:"bottom",title:a,children:(0,c.jsx)("span",{title:a,onClick:F,children:t?(0,c.jsx)(z.Z,{}):(0,c.jsx)(V.Z,{})})})})},U=t(3621),_=t(5546),B=t(5041),$=(0,i.$j)((function(e){return e.app}))((function(e){var n=e.sidebarCollapsed,t=e.dispatch;return(0,c.jsx)("div",{className:"hamburger-container",onClick:function(){t((0,B.vl)())},children:n?(0,c.jsx)(U.Z,{}):(0,c.jsx)(_.Z,{})})})),q=t(2414),A=(0,i.$j)((function(e){return(0,j.Z)({},e.app)}))((function(e){var n=e.dispatch;return(0,c.jsx)("div",{className:"settings-container",children:(0,c.jsx)(L.Z,{placement:"bottom",title:"\u7cfb\u7edf\u8bbe\u7f6e",children:(0,c.jsx)(q.Z,{onClick:function(){n((0,B.Ts)())}})})})})),D=r.Z.Header,G=function(){var e=(0,i.v9)((function(e){return(0,j.Z)((0,j.Z)({},e.app),e.user)})),n=(0,i.I0)(),t=e.token,r=e.avatar,s=e.showSettings,a=e.fixedHeader,o=e.sidebarCollapsed,l=[{label:(0,c.jsx)(x.rU,{to:"/",children:"\u9996\u9875"}),key:"dashboard"},{label:(0,c.jsx)("a",{target:"_blank",href:"https://gitee.com/sangtian152/react-antd-admin",rel:"noopener noreferrer",children:"\u9879\u76ee\u5730\u5740"}),key:"project"},{type:"divider"},{label:"\u6ce8\u9500",key:"logout"}],d=(0,c.jsx)(f.Z,{onClick:function(e){if("logout"===e.key)!function(e){w.Z.confirm({title:"\u6ce8\u9500",content:"\u786e\u5b9a\u8981\u9000\u51fa\u7cfb\u7edf\u5417?",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){n((0,T.kS)(e))}})}(t)},items:l});return(0,c.jsxs)(c.Fragment,{children:[a?(0,c.jsx)(D,{}):null,(0,c.jsxs)(D,{style:a?o?{width:"calc(100% - 80px)"}:{width:"calc(100% - 200px)"}:{width:"100%"},className:a?"fix-header":"",children:[(0,c.jsx)($,{}),(0,c.jsx)(H,{}),(0,c.jsxs)("div",{className:"right-menu",children:[(0,c.jsx)(M,{}),s?(0,c.jsx)(A,{}):null,(0,c.jsx)("div",{className:"dropdown-wrap",children:(0,c.jsx)(N.Z,{overlay:d,children:(0,c.jsxs)("div",{children:[(0,c.jsx)(S.C,{shape:"square",size:"medium",src:r}),(0,c.jsx)(K.Z,{})]})})})]})]})]})},R=t(916),W=function(){var e=(0,Z.s0)(),n=(0,Z.TH)(),t=(0,s.useState)(!1),r=(0,I.Z)(t,2),a=r[0],o=r[1],l=(0,i.v9)((function(e){return e.user.token}));return(0,s.useEffect)((function(){var t=(0,R.U)(n.pathname);t&&t.auth&&!l?(o(!1),e("/login",{replace:!0})):(o(!0),t.redirect&&e(t.redirect,{replace:!0}))}),[n.pathname,l,e]),a?(0,c.jsx)(Z.j3,{}):null},J=t(8885),Q=t(6106),X=t(914),Y=t(5581),ee=t(1333),ne=t(785),te=t(7309),re=t(9150),se=t(3414),ie=t(33),ae=t.n(ie);function ce(e,n){var t=new(ae())(n.target,{text:function(){return e}});t.on("success",(function(){E.ZP.success("\u590d\u5236\u6210\u529f"),t.destroy()})),t.on("error",(function(){E.ZP.error("\u590d\u5236\u5931\u8d25"),t.destroy()})),t.onClick(n)}var oe=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e.app.settingPanelVisible})),t=(0,i.v9)((function(e){return e.app.sidebarLogo})),r=(0,i.v9)((function(e){return e.app.fixedHeader})),a=(0,i.v9)((function(e){return e.app.tagsView})),o=(0,s.useState)(t),l=(0,I.Z)(o,2),d=l[0],u=l[1],h=(0,s.useState)(r),p=(0,I.Z)(h,2),f=p[0],x=p[1],j=(0,s.useState)(a),Z=(0,I.Z)(j,2),m=Z[0],v=Z[1];return(0,c.jsx)("div",{className:"rightSettings",children:(0,c.jsxs)(J.Z,{title:"\u7cfb\u7edf\u8bbe\u7f6e",placement:"right",width:350,onClose:function(){e((0,B.Ts)())},visible:n,children:[(0,c.jsxs)(Q.Z,{children:[(0,c.jsx)(X.Z,{span:12,children:(0,c.jsx)("span",{children:"\u4fa7\u8fb9\u680f Logo"})}),(0,c.jsx)(X.Z,{span:12,children:(0,c.jsx)(Y.Z,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:d,onChange:function(n){u(n),e((0,B.oz)({key:"sidebarLogo",value:n}))}})})]}),(0,c.jsx)(ee.Z,{dashed:!0}),(0,c.jsxs)(Q.Z,{children:[(0,c.jsx)(X.Z,{span:12,children:(0,c.jsx)("span",{children:"\u56fa\u5b9a Header"})}),(0,c.jsx)(X.Z,{span:12,children:(0,c.jsx)(Y.Z,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:f,onChange:function(n){x(n),e((0,B.oz)({key:"fixedHeader",value:n}))}})})]}),(0,c.jsx)(ee.Z,{dashed:!0}),(0,c.jsxs)(Q.Z,{children:[(0,c.jsx)(X.Z,{span:12,children:(0,c.jsx)("span",{children:"\u5f00\u542f Tags-View"})}),(0,c.jsx)(X.Z,{span:12,children:(0,c.jsx)(Y.Z,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:m,onChange:function(n){v(n),e((0,B.oz)({key:"tagsView",value:n}))}})})]}),(0,c.jsx)(ee.Z,{dashed:!0}),(0,c.jsx)(Q.Z,{children:(0,c.jsxs)(X.Z,{span:24,children:[(0,c.jsx)(ne.Z,{message:"\u5f00\u53d1\u8005\u8bf7\u6ce8\u610f:",description:"\u914d\u7f6e\u680f\u53ea\u5728\u5f00\u53d1\u73af\u5883\u7528\u4e8e\u9884\u89c8\uff0c\u751f\u4ea7\u73af\u5883\u4e0d\u4f1a\u5c55\u73b0\uff0c\u8bf7\u62f7\u8d1d\u540e\u624b\u52a8\u4fee\u6539/src/defaultSettings.js\u914d\u7f6e\u6587\u4ef6",type:"warning",showIcon:!0,icon:(0,c.jsx)(re.Z,{}),style:{marginBottom:"16px"}}),(0,c.jsx)(te.Z,{style:{width:"100%"},icon:(0,c.jsx)(se.Z,{}),onClick:function(e){ce("\n    export default {\n      showSettings: true,\n      sidebarLogo: ".concat(d,",\n      fixedHeader: ").concat(f,",\n      tagsView: ").concat(m,",\n    }\n    "),e)},children:"\u62f7\u8d1d\u914d\u7f6e"})]})})]})})},le=r.Z.Footer,de=r.Z.Content,ue=function(){return(0,c.jsxs)(r.Z,{className:"app-container",children:[(0,c.jsx)(C,{}),(0,c.jsxs)(r.Z,{className:"app-layout",children:[(0,c.jsx)(G,{className:"app-header"}),(0,c.jsx)(de,{className:"app-content",children:(0,c.jsx)(W,{})}),(0,c.jsx)(oe,{}),(0,c.jsx)(le,{className:"app-footer",children:"Footer"})]})]})}}}]);
//# sourceMappingURL=920.5c86759b.chunk.js.map